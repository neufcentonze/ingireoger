<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>
    <%= title || "Djelo" %>
  </title>
  <link rel="stylesheet" href="/style/main.css" />
  <link rel="stylesheet" href="/style/header.css" />
  <link rel="stylesheet" href="/style/sidebar.css" />
</head>

<body>

  <!-- üîù HEADER -->
  <%- include('../partials/header') %>

    <!-- üß± WRAPPER PRINCIPAL -->
    <main class="main-wrapper">
      <!-- üìÇ SIDEBAR -->
      <%- include('../partials/sidebar') %>

        <!-- üì¶ CONTENU PRINCIPAL -->
        <div class="main-content">
          <%- body %>
        </div>
    </main>

    <!-- ‚¨áÔ∏è FOOTER -->
    <footer class="footer">
      <p>&copy; 2025 - Tous droits r√©serv√©s</p>
    </footer>

    <!-- üîß JS pour sidebar -->
    <script>
      // 1. Fonction globale, accessible via onclick=""
      function toggleSidebarSection(name) {
        const submenu = document.getElementById('submenu-' + name);
        if (submenu) {
          submenu.classList.toggle('open');
        }
      }

      // 2. Autres listeners dans DOMContentLoaded
      document.addEventListener('DOMContentLoaded', () => {
        const toggleSidebarBtn = document.getElementById('toggleSidebar');
        toggleSidebarBtn?.addEventListener('click', () => {
          document.querySelector('.sidebar')?.classList.toggle('sidebar--collapsed');
        });
      });
    </script>
</body>

</html>